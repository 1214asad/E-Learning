<!DOCTYPE html>
<html lang="en">
    <head class="heading">Detials of your Blog..</head>
    <!-- <title>Details</title> -->
    <a class="hometag" href="/">Home</a> 
    <style>
        .title{
            font-weight: bold;
            font-family: cursive;
        }

        .body{
            background-image: url();
            border-radius: 5px;
            box-shadow: 2px 3px 2px 2px rgb(119, 137, 143);
            height: 170px;
            width: 600px;
            margin: 10px;
            padding: 1px 3px;

        }
        .heading{
            box-shadow: 2px 1px 1px 2px rgb(119, 137, 143);
            border-radius: 5px;
            padding: 2px;
            background-color: rgb(177, 200, 220);
            width: auto;
        }
        .hometag{
            display: inline-block;
            padding: 12px 24px;
            margin: 10px;
            font-size: 18px;
            font-weight: bold;
            text-decoration: none;
            background-color: #007bff;
            border-radius: 5px;
            transition: background-color 0.3s ease;
    
}
.delete{
    padding: 5px;
    margin: 3px 5px;
    box-shadow: 1px 0 0 1px lightblue;
    border-radius: 5px;
}
    </style>

<body>
    <div class="title">
    <h1><%= blog.tittle %></h1>
    </div>
    <div class="body">
    <p><%= blog.body%></p>
    </div>
    <div>
    <a class="delete" data-doc="<%= blog._id %>" ><button>delete</button></a>
    <a class="update" data-doc="<%= blog._id %>" ><button>update</button></a>

    </div>
  
    <script>
        const trushBin = document.querySelector("a.delete");
        const update = document.querySelector("a.update");

        trushBin.addEventListener('click', (e)=>{
            const endpoints = `/blogs/${trushBin.dataset.doc}`
            fetch(endpoints, {
                method: 'DELETE'
            })
            .then((response)=> response.json())
            .then((data)=> window.location.href = data.redirect)
            .catch((err)=>console.log(err))
        })


        update.addEventListener('click', (event)=>{
            const updatepoints =  `/blogs/${trushBin.dataset.doc}`
            fetch(updatepoints, {
                method : 'PUT',
                headers: {'Content-type' : 'appliction/json'},
                body : JSON.stringify()
            })
            // .then((response)=>response.json())
            .then((data)=>console.log(data))
            .catch((err)=> console.log(err));
        })
    </script>
</body>
</html>